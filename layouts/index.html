{{ define "main" }}
    <section class="home-intro">
        <h2 class="section-title">ようこそ</h2>
        <p class="home-intro__lead">札幌市で妻と娘と三人で暮らす21歳の多重人格（解離性同一性障害）の人です。障害年金をもらいながらも司法試験合格を目指して奮闘中です。政治思想やITにも関心があります。</p>
        <ul class="home-intro__meta">
            <li><span class="home-intro__label">フォーカス</span><span>法律学習 / 体調管理 / IT系の話</span></li>
            <li><span class="home-intro__label">セクシュアリティ</span><span>パンセクシャル</span></li>
            <li><span class="home-intro__label">現在地</span><span>北海道札幌市</span></li>
        </ul>
    </section>

    <section class="home-posts">
        <div class="home-posts__header">
            <h2 class="section-title">最新の記事</h2>
            <a class="home-posts__more" href="/posts/">すべて見る</a>
        </div>
        <ul class="home-posts__list">
            {{ $posts := where .Site.RegularPages "Type" "posts" }}
            {{ if gt (len $posts) 0 }}
                {{ range first 6 (sort $posts "Date" "desc") }}
                    <li class="home-posts__item">
                        <a class="home-posts__link" href="{{ .RelPermalink }}">
                            <time class="home-posts__date" datetime="{{ .Date | time.Format "2006-01-02" }}">{{ .Date | time.Format "2006-01-02" }}</time>
                            <span class="home-posts__title">{{ .Title }}</span>
                            <span class="home-posts__summary">{{ with .Params.description }}{{ . }}{{ else }}{{ .Summary | plainify | truncate 120 }}{{ end }}</span>
                        </a>
                        {{ with .Params.categories }}
                        <ul class="home-posts__categories" aria-label="カテゴリ">
                            {{ range . }}
                            {{ $category := . }}
                            {{ $termPath := printf "/categories/%s/" ($category | urlize) }}
                            <li class="home-posts__category">
                                <a href="{{ $termPath | relURL }}">{{ $category }}</a>
                            </li>
                            {{ end }}
                        </ul>
                        {{ end }}
                    </li>
                {{ end }}
            {{ else }}
                <li class="home-posts__item home-posts__item--empty">記事がまだありません。</li>
            {{ end }}
        </ul>
    </section>
{{ end }}
